# RCC
Rusin Compiler Collection

Данный проект включает в себя следующие модули:
- [ASM](#asm)
- [CPU](#cpu)
- [DisASM](#disasm)
- [My_Lang](#my_lang)

Рассмотрим их поподробнее:
## ASM

Представляет из себя транслятор из моего ассемблера в бинарный код [эмулятора](#cpu).

#### Синтаксис

Все команды работают с аргументами из стека

Поддержка точности: 2 знака после запятой

Поддержка регистров: ax, bx, cx, dx, di, si, r8-15

Поддерживается работа с аргументами пользовательских функций как через регистры, так и через стек

 Команда  |      Действие
----------|---------------------
`end     `| завершение программы
`push    `| положить значение в стек
`add     `| сложить 
`sub     `| вычесть
`mul     `| перемножить
`div     `| разделить
`in      `| ввод числа с консоли
`out     `| вывод числа в консоль
`sqr     `| возведение в квадрат
`sqrt    `| извлечение квадратного корня
`pushr   `| запушить значение из регистра
`popr    `| вытащить значение в регистр
`pushm   `| запушить значение из памяти
`popm    `| вытащить значение в память
`pushv   `| запушить значение из видеопамяти
`popv    `| вытащить значение в видеопамять
`pic     `| вывести в консоль изображение(видеопамять)
`circle  `| записать в видеопамять окружность(по радиусу)
`inc     `| инкремент
`call    `| вызов функции
`ret     `| возвращение из функции
`'name': `| метка
`jmp     `| безусловнй jump
`ja, je..`| условные джампы 

> Пример простой программы, находящей факториал рекурсивно, а так же решающей [квадратное уравнене](https://github.com/iDang3r/RCC/blob/master/Examples/SquareSolver.txt)

```asm
jmp main

fact:
 popr ax
 push 1
 pushr ax
 jae stop_fact
 
 pushr ax
 pushr ax 
 push -1
 add
 call fact
 mul
ret

 stop_fact:
 push 1
ret

main:
 push 6
 call fact
 out

```

В результате работы программы создается файл `cpu_code.bin`, который можно *скормить* эмулятору 

[Назад в меню](#rcc)

## CPU

Представляет из себя эмулятор процессора, принимающий бинарный файл `cpu_code.bin`, созданный [ASM'ом](#asm).

> Пример работы программы, решающей квадратное уравнение

<img src="/Images/SqrtSolver%20console.png" width="600">

[Назад в меню](#rcc)

## DisASM

Представляет из себя программу, дизассемблирующую бинарный код для эмулятора

[Назад в меню](#rcc)

## My_Lang 
### Язык Труб

Представляет из себя Fronted + Backend для языка высокого уровня, разработанного собственноручно

Так же присутствует возможность осуществлять трансляцию моего языка в другой язык высокого уровня - `Python`

#### Синтаксис

> Черновик разработки можно найти [здесь](/Examples/Syntax_develop.cpp)

Стоит отметить, что перед началом программы должно идти объявление переменных после ключевого слова `var:` через запятую, а так же обявление всех функций: `funcs:`, далее `;` (имена пременных и функций должны быть *однобуквенными* и не должны пересекаться)

Перед началом самой исполняемой части должен идти символ `>` на отдельной строке

Точка входа в программу начинается с символа `$`

 Команда  |      Действие
----------|---------------------
`$`       | точка входа в программу
`>`       | ввод числа из консоли
`<`       | вывод числа в консоль
`~`       | присвоение переменной значения
`+`       | сложение
`-`       | вычитание
`*`       | умножение
`/`       | деление 
`√`       | извлечение квадратного корня
`&`       | if / while (в зависимости от конекста, см. [примеры](#примеры))
`@`       | выход из функции

При входе в функцию, переменные, переданные в неё копируются. Для возвращния более 2-х значений из функций, стоит использовать глобальные переменные. 

> Чтобы примерно понять, что происходит, стоит изучить примеры простых программ, мяу

#### Примеры 

> Вычисление факсториала рекурсивно

<img src="/Images/Fact_rec Tubes.png" width="600">

> Вычисление факсториала с помощью цикла

<img src="/Images/fact_while Tubes.png" width="600">

> Вычисление n-го числа Фибоначчи рекурсивно

<img src="/Images/fib_rec Tubes.png" width="600">

 > #### И наконец....... Король вечеринки: квадратное уравнение с разбором всех случев!!!

<img src="/Images/SquareSolver Tubes.png" width="1000">

[Назад в меню](#rcc)
